-module(benchmarks_server).

%% this file was generated by grpc

-export([decoder/0,
         'Ready'/3,
         'Shutdown'/3,
         'PingPong'/3,
         'NetPingPong'/3,
         'ThroughputPingPong'/3,
         'NetThroughputPingPong'/3,
         'AtomicRegister'/3,
         'StreamingWindows'/3,
         'Fibonacci'/3,
         'Chameneos'/3,
         'AllPairsShortestPath'/3,
         'AtomicBroadcast'/3,
         'SizedThroughput'/3]).

-type 'PingPongRequest'() ::
    #{number_of_messages => integer()}.

-type 'ThroughputPingPongRequest'() ::
    #{messages_per_pair => integer(),
      pipeline_size => integer(),
      parallelism => integer(),
      static_only => boolean()}.

-type 'AtomicRegisterRequest'() ::
    #{read_workload => float() | infinity | '-infinity' | nan,
      write_workload => float() | infinity | '-infinity' | nan,
      partition_size => integer(),
      number_of_keys => integer()}.

-type 'StreamingWindowsRequest'() ::
    #{number_of_partitions => integer(),
      batch_size => integer(),
      window_size => string(),
      number_of_windows => integer(),
      window_size_amplification => integer()}.

-type 'SizedThroughputRequest'() ::
    #{message_size => integer(),
      batch_size => integer(),
      number_of_batches => integer(),
      number_of_pairs => integer()}.

-type 'FibonacciRequest'() ::
    #{fib_number => integer()}.

-type 'ChameneosRequest'() ::
    #{number_of_chameneos => integer(),
      number_of_meetings => integer()}.

-type 'APSPRequest'() ::
    #{number_of_nodes => integer(),
      block_size => integer()}.

-type 'AtomicBroadcastRequest'() ::
    #{algorithm => string(),
      number_of_nodes => integer(),
      number_of_proposals => integer(),
      concurrent_proposals => integer(),
      reconfiguration => string(),
      reconfig_policy => string()}.

-type 'TestResult'() ::
    #{sealed_value =>
          {success, 'TestSuccess'()} |
          {failure, 'TestFailure'()} |
          {not_implemented, 'NotImplemented'()}}.

-type 'TestSuccess'() ::
    #{number_of_runs => integer(),
      run_results => [float() | infinity | '-infinity' | nan]}.

-type 'TestFailure'() ::
    #{reason => string()}.

-type 'NotImplemented'() ::
    #{}.

-type 'ReadyRequest'() ::
    #{}.

-type 'ReadyResponse'() ::
    #{status => boolean()}.

-type 'ShutdownRequest'() ::
    #{force => boolean()}.

-type 'ShutdownAck'() ::
    #{}.

-spec decoder() -> module().
%% The module (generated by gpb) used to encode and decode protobuf
%% messages.
decoder() -> benchmarks.

%% RPCs for service 'BenchmarkRunner'

-spec 'Ready'(Message::'ReadyRequest'(), Stream::grpc:stream(), State::any()) ->
    {'ReadyResponse'(), grpc:stream()} | grpc:error_response().
%% This is a unary RPC
'Ready'(_Message, Stream, _State) ->
    {#{}, Stream}.

-spec 'Shutdown'(Message::'ShutdownRequest'(), Stream::grpc:stream(), State::any()) ->
    {'ShutdownAck'(), grpc:stream()} | grpc:error_response().
%% This is a unary RPC
'Shutdown'(_Message, Stream, _State) ->
    {#{}, Stream}.

-spec 'PingPong'(Message::'PingPongRequest'(), Stream::grpc:stream(), State::any()) ->
    {'TestResult'(), grpc:stream()} | grpc:error_response().
%% This is a unary RPC
'PingPong'(_Message, Stream, _State) ->
    {#{}, Stream}.

-spec 'NetPingPong'(Message::'PingPongRequest'(), Stream::grpc:stream(), State::any()) ->
    {'TestResult'(), grpc:stream()} | grpc:error_response().
%% This is a unary RPC
'NetPingPong'(_Message, Stream, _State) ->
    {#{}, Stream}.

-spec 'ThroughputPingPong'(Message::'ThroughputPingPongRequest'(), Stream::grpc:stream(), State::any()) ->
    {'TestResult'(), grpc:stream()} | grpc:error_response().
%% This is a unary RPC
'ThroughputPingPong'(_Message, Stream, _State) ->
    {#{}, Stream}.

-spec 'NetThroughputPingPong'(Message::'ThroughputPingPongRequest'(), Stream::grpc:stream(), State::any()) ->
    {'TestResult'(), grpc:stream()} | grpc:error_response().
%% This is a unary RPC
'NetThroughputPingPong'(_Message, Stream, _State) ->
    {#{}, Stream}.

-spec 'AtomicRegister'(Message::'AtomicRegisterRequest'(), Stream::grpc:stream(), State::any()) ->
    {'TestResult'(), grpc:stream()} | grpc:error_response().
%% This is a unary RPC
'AtomicRegister'(_Message, Stream, _State) ->
    {#{}, Stream}.

-spec 'StreamingWindows'(Message::'StreamingWindowsRequest'(), Stream::grpc:stream(), State::any()) ->
    {'TestResult'(), grpc:stream()} | grpc:error_response().
%% This is a unary RPC
'StreamingWindows'(_Message, Stream, _State) ->
    {#{}, Stream}.

-spec 'Fibonacci'(Message::'FibonacciRequest'(), Stream::grpc:stream(), State::any()) ->
    {'TestResult'(), grpc:stream()} | grpc:error_response().
%% This is a unary RPC
'Fibonacci'(_Message, Stream, _State) ->
    {#{}, Stream}.

-spec 'Chameneos'(Message::'ChameneosRequest'(), Stream::grpc:stream(), State::any()) ->
    {'TestResult'(), grpc:stream()} | grpc:error_response().
%% This is a unary RPC
'Chameneos'(_Message, Stream, _State) ->
    {#{}, Stream}.

-spec 'AllPairsShortestPath'(Message::'APSPRequest'(), Stream::grpc:stream(), State::any()) ->
    {'TestResult'(), grpc:stream()} | grpc:error_response().
%% This is a unary RPC
'AllPairsShortestPath'(_Message, Stream, _State) ->
    {#{}, Stream}.

-spec 'AtomicBroadcast'(Message::'AtomicBroadcastRequest'(), Stream::grpc:stream(), State::any()) ->
    {'TestResult'(), grpc:stream()} | grpc:error_response().
%% This is a unary RPC
'AtomicBroadcast'(_Message, Stream, _State) ->
    {#{}, Stream}.

-spec 'SizedThroughput'(Message::'SizedThroughputRequest'(), Stream::grpc:stream(), State::any()) ->
    {'TestResult'(), grpc:stream()} | grpc:error_response().
%% This is a unary RPC
'SizedThroughput'(_Message, Stream, _State) ->
    {#{}, Stream}.

